{"id":"sVaf","dependencies":[{"name":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/package.json","includedInParent":true,"mtime":1529260753465},{"name":"/Users/carlos/dev/source/Staging/prototype/package.json","includedInParent":true,"mtime":1533239245440},{"name":"/Users/carlos/dev/source/Staging/prototype/.babelrc","includedInParent":true,"mtime":1533239245154},{"name":"./DraftFeatureFlags","loc":{"line":16,"column":32},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftFeatureFlags.js"},{"name":"./DraftModifier","loc":{"line":17,"column":28},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftModifier.js"},{"name":"./EditorState","loc":{"line":18,"column":26},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/EditorState.js"},{"name":"fbjs/lib/Keys","loc":{"line":19,"column":19},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/fbjs/lib/Keys.js"},{"name":"./getEntityKeyForSelection","loc":{"line":21,"column":39},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/getEntityKeyForSelection.js"},{"name":"./isEventHandled","loc":{"line":22,"column":29},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/isEventHandled.js"},{"name":"./isSelectionAtLeafStart","loc":{"line":23,"column":37},"parent":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/DraftEditorCompositionHandler.js","resolved":"/Users/carlos/dev/source/Staging/prototype/node_modules/draft-js/lib/isSelectionAtLeafStart.js"}],"generated":{"js":"\"use strict\";var e=require(\"./DraftFeatureFlags\"),t=require(\"./DraftModifier\"),n=require(\"./EditorState\"),o=require(\"fbjs/lib/Keys\"),r=require(\"./getEntityKeyForSelection\"),i=require(\"./isEventHandled\"),u=require(\"./isSelectionAtLeafStart\"),s=20,a=!1,l=!1,f=\"\",p={onBeforeInput:function(e,t){f=(f||\"\")+t.data},onCompositionStart:function(e){l=!0},onCompositionEnd:function(e){a=!1,l=!1,setTimeout(function(){a||p.resolveComposition(e)},s)},onKeyDown:function(e,t){if(!l)return p.resolveComposition(e),void e._onKeyDown(t);t.which!==o.RIGHT&&t.which!==o.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===o.RETURN&&t.preventDefault()},resolveComposition:function(o){if(!l){a=!0;var s=f;f=\"\";var p=n.set(o._latestEditorState,{inCompositionMode:!1}),c=p.getCurrentInlineStyle(),d=r(p.getCurrentContent(),p.getSelection()),C=!s||u(p)||c.size>0||null!==d;if(C&&o.restoreEditorDOM(),o.exitCurrentMode(),s){if(e.draft_handlebeforeinput_composed_text&&o.props.handleBeforeInput&&i(o.props.handleBeforeInput(s,p)))return;var v=t.replaceText(p.getCurrentContent(),p.getSelection(),s,c,d);o.update(n.push(p,v,\"insert-characters\"))}else C&&o.update(n.set(p,{nativelyRenderedContent:null,forceSelection:!0}))}}};module.exports=p;","map":{"mappings":[{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":14,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":16,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":16,"column":0},"generated":{"line":1,"column":17}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":16,"column":0},"generated":{"line":1,"column":19}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":16,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":17,"column":0},"generated":{"line":1,"column":50}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":17,"column":0},"generated":{"line":1,"column":52}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":17,"column":0},"generated":{"line":1,"column":60}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":18,"column":0},"generated":{"line":1,"column":79}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":18,"column":0},"generated":{"line":1,"column":81}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":18,"column":0},"generated":{"line":1,"column":89}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":19,"column":0},"generated":{"line":1,"column":106}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":19,"column":0},"generated":{"line":1,"column":108}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":19,"column":0},"generated":{"line":1,"column":116}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":21,"column":0},"generated":{"line":1,"column":133}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":21,"column":0},"generated":{"line":1,"column":135}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":21,"column":0},"generated":{"line":1,"column":143}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":22,"column":0},"generated":{"line":1,"column":173}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":22,"column":0},"generated":{"line":1,"column":175}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":22,"column":0},"generated":{"line":1,"column":183}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":23,"column":0},"generated":{"line":1,"column":203}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":23,"column":0},"generated":{"line":1,"column":205}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":23,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":35,"column":0},"generated":{"line":1,"column":241}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":35,"column":0},"generated":{"line":1,"column":243}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":43,"column":0},"generated":{"line":1,"column":246}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":43,"column":0},"generated":{"line":1,"column":249}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":44,"column":0},"generated":{"line":1,"column":251}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":44,"column":0},"generated":{"line":1,"column":254}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":45,"column":0},"generated":{"line":1,"column":256}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":45,"column":0},"generated":{"line":1,"column":258}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":47,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":47,"column":0},"generated":{"line":1,"column":263}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":48,"column":0},"generated":{"line":1,"column":264}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":48,"column":0},"generated":{"line":1,"column":278}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":48,"column":0},"generated":{"line":1,"column":287}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":48,"column":0},"generated":{"line":1,"column":289}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":49,"column":0},"generated":{"line":1,"column":292}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":49,"column":0},"generated":{"line":1,"column":295}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":49,"column":0},"generated":{"line":1,"column":298}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":49,"column":0},"generated":{"line":1,"column":302}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":49,"column":0},"generated":{"line":1,"column":304}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":56,"column":0},"generated":{"line":1,"column":310}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":56,"column":0},"generated":{"line":1,"column":329}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":56,"column":0},"generated":{"line":1,"column":338}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":57,"column":0},"generated":{"line":1,"column":341}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":57,"column":0},"generated":{"line":1,"column":344}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":74,"column":0},"generated":{"line":1,"column":347}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":74,"column":0},"generated":{"line":1,"column":364}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":74,"column":0},"generated":{"line":1,"column":373}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":75,"column":0},"generated":{"line":1,"column":376}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":75,"column":0},"generated":{"line":1,"column":379}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":76,"column":0},"generated":{"line":1,"column":381}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":76,"column":0},"generated":{"line":1,"column":384}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":77,"column":0},"generated":{"line":1,"column":386}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":77,"column":0},"generated":{"line":1,"column":397}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":408}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":79,"column":0},"generated":{"line":1,"column":411}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":79,"column":0},"generated":{"line":1,"column":413}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":79,"column":0},"generated":{"line":1,"column":432}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":81,"column":0},"generated":{"line":1,"column":436}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":89,"column":0},"generated":{"line":1,"column":440}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":89,"column":0},"generated":{"line":1,"column":450}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":89,"column":0},"generated":{"line":1,"column":459}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":89,"column":0},"generated":{"line":1,"column":461}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":90,"column":0},"generated":{"line":1,"column":464}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":90,"column":0},"generated":{"line":1,"column":468}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":97,"column":0},"generated":{"line":1,"column":470}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":95,"column":0},"generated":{"line":1,"column":477}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":95,"column":0},"generated":{"line":1,"column":479}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":95,"column":0},"generated":{"line":1,"column":498}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":96,"column":0},"generated":{"line":1,"column":506}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":96,"column":0},"generated":{"line":1,"column":508}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":96,"column":0},"generated":{"line":1,"column":519}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":522}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":524}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":532}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":534}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":541}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":543}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":551}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":99,"column":0},"generated":{"line":1,"column":553}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":100,"column":0},"generated":{"line":1,"column":559}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":100,"column":0},"generated":{"line":1,"column":561}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":110,"column":0},"generated":{"line":1,"column":579}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":110,"column":0},"generated":{"line":1,"column":590}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":110,"column":0},"generated":{"line":1,"column":599}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":110,"column":0},"generated":{"line":1,"column":601}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":111,"column":0},"generated":{"line":1,"column":604}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":111,"column":0},"generated":{"line":1,"column":606}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":111,"column":0},"generated":{"line":1,"column":614}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":111,"column":0},"generated":{"line":1,"column":616}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":112,"column":0},"generated":{"line":1,"column":624}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":112,"column":0},"generated":{"line":1,"column":626}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":131,"column":0},"generated":{"line":1,"column":644}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":131,"column":0},"generated":{"line":1,"column":663}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":131,"column":0},"generated":{"line":1,"column":672}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":132,"column":0},"generated":{"line":1,"column":675}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":132,"column":0},"generated":{"line":1,"column":679}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":132,"column":0},"generated":{"line":1,"column":681}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":136,"column":0},"generated":{"line":1,"column":682}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":136,"column":0},"generated":{"line":1,"column":685}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":137,"column":0},"generated":{"line":1,"column":687}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":137,"column":0},"generated":{"line":1,"column":691}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":137,"column":0},"generated":{"line":1,"column":693}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":138,"column":0},"generated":{"line":1,"column":695}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":138,"column":0},"generated":{"line":1,"column":697}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":700}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":704}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":706}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":708}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":712}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":714}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":140,"column":0},"generated":{"line":1,"column":733}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":141,"column":0},"generated":{"line":1,"column":734}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":141,"column":0},"generated":{"line":1,"column":753}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":144,"column":0},"generated":{"line":1,"column":757}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":144,"column":0},"generated":{"line":1,"column":759}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":144,"column":0},"generated":{"line":1,"column":761}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":145,"column":0},"generated":{"line":1,"column":785}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":145,"column":0},"generated":{"line":1,"column":787}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":145,"column":0},"generated":{"line":1,"column":789}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":145,"column":0},"generated":{"line":1,"column":791}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":145,"column":0},"generated":{"line":1,"column":811}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":145,"column":0},"generated":{"line":1,"column":813}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":829}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":832}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":835}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":837}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":841}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":843}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":848}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":851}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":147,"column":0},"generated":{"line":1,"column":858}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":155,"column":0},"generated":{"line":1,"column":860}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":149,"column":0},"generated":{"line":1,"column":863}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":150,"column":0},"generated":{"line":1,"column":866}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":150,"column":0},"generated":{"line":1,"column":868}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":153,"column":0},"generated":{"line":1,"column":887}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":153,"column":0},"generated":{"line":1,"column":889}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":155,"column":0},"generated":{"line":1,"column":907}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":155,"column":0},"generated":{"line":1,"column":909}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":910}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":913}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":915}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":954}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":956}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":962}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":981}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":983}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":985}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":991}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":1009}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":156,"column":0},"generated":{"line":1,"column":1011}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1015}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1022}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1026}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1028}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1030}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1042}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1044}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1064}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1066}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1081}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1083}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":161,"column":0},"generated":{"line":1,"column":1085}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1088}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1090}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1097}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1099}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1104}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1106}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1108}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":166,"column":0},"generated":{"line":1,"column":1135}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":167,"column":0},"generated":{"line":1,"column":1138}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":167,"column":0},"generated":{"line":1,"column":1140}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":167,"column":0},"generated":{"line":1,"column":1147}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":167,"column":0},"generated":{"line":1,"column":1149}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":167,"column":0},"generated":{"line":1,"column":1153}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":167,"column":0},"generated":{"line":1,"column":1155}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1156}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1180}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":169,"column":0},"generated":{"line":1,"column":1185}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":169,"column":0},"generated":{"line":1,"column":1201}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":175,"column":0},"generated":{"line":1,"column":1209}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":175,"column":0},"generated":{"line":1,"column":1216}},{"source":"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","original":{"line":175,"column":0},"generated":{"line":1,"column":1224}}],"sources":{"../node_modules/draft-js/lib/DraftEditorCompositionHandler.js":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorCompositionHandler\n * @format\n * \n */\n\n'use strict';\n\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar Keys = require('fbjs/lib/Keys');\n\nvar getEntityKeyForSelection = require('./getEntityKeyForSelection');\nvar isEventHandled = require('./isEventHandled');\nvar isSelectionAtLeafStart = require('./isSelectionAtLeafStart');\n\n/**\n * Millisecond delay to allow `compositionstart` to fire again upon\n * `compositionend`.\n *\n * This is used for Korean input to ensure that typing can continue without\n * the editor trying to render too quickly. More specifically, Safari 7.1+\n * triggers `compositionstart` a little slower than Chrome/FF, which\n * leads to composed characters being resolved and re-render occurring\n * sooner than we want.\n */\nvar RESOLVE_DELAY = 20;\n\n/**\n * A handful of variables used to track the current composition and its\n * resolution status. These exist at the module level because it is not\n * possible to have compositions occurring in multiple editors simultaneously,\n * and it simplifies state management with respect to the DraftEditor component.\n */\nvar resolved = false;\nvar stillComposing = false;\nvar textInputData = '';\n\nvar DraftEditorCompositionHandler = {\n  onBeforeInput: function onBeforeInput(editor, e) {\n    textInputData = (textInputData || '') + e.data;\n  },\n\n  /**\n   * A `compositionstart` event has fired while we're still in composition\n   * mode. Continue the current composition session to prevent a re-render.\n   */\n  onCompositionStart: function onCompositionStart(editor) {\n    stillComposing = true;\n  },\n\n  /**\n   * Attempt to end the current composition session.\n   *\n   * Defer handling because browser will still insert the chars into active\n   * element after `compositionend`. If a `compositionstart` event fires\n   * before `resolveComposition` executes, our composition session will\n   * continue.\n   *\n   * The `resolved` flag is useful because certain IME interfaces fire the\n   * `compositionend` event multiple times, thus queueing up multiple attempts\n   * at handling the composition. Since handling the same composition event\n   * twice could break the DOM, we only use the first event. Example: Arabic\n   * Google Input Tools on Windows 8.1 fires `compositionend` three times.\n   */\n  onCompositionEnd: function onCompositionEnd(editor) {\n    resolved = false;\n    stillComposing = false;\n    setTimeout(function () {\n      if (!resolved) {\n        DraftEditorCompositionHandler.resolveComposition(editor);\n      }\n    }, RESOLVE_DELAY);\n  },\n\n  /**\n   * In Safari, keydown events may fire when committing compositions. If\n   * the arrow keys are used to commit, prevent default so that the cursor\n   * doesn't move, otherwise it will jump back noticeably on re-render.\n   */\n  onKeyDown: function onKeyDown(editor, e) {\n    if (!stillComposing) {\n      // If a keydown event is received after compositionend but before the\n      // 20ms timer expires (ex: type option-E then backspace, or type A then\n      // backspace in 2-Set Korean), we should immediately resolve the\n      // composition and reinterpret the key press in edit mode.\n      DraftEditorCompositionHandler.resolveComposition(editor);\n      editor._onKeyDown(e);\n      return;\n    }\n    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Keypress events may fire when committing compositions. In Firefox,\n   * pressing RETURN commits the composition and inserts extra newline\n   * characters that we do not want. `preventDefault` allows the composition\n   * to be committed while preventing the extra characters.\n   */\n  onKeyPress: function onKeyPress(editor, e) {\n    if (e.which === Keys.RETURN) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Attempt to insert composed characters into the document.\n   *\n   * If we are still in a composition session, do nothing. Otherwise, insert\n   * the characters into the document and terminate the composition session.\n   *\n   * If no characters were composed -- for instance, the user\n   * deleted all composed characters and committed nothing new --\n   * force a re-render. We also re-render when the composition occurs\n   * at the beginning of a leaf, to ensure that if the browser has\n   * created a new text node for the composition, we will discard it.\n   *\n   * Resetting innerHTML will move focus to the beginning of the editor,\n   * so we update to force it back to the correct place.\n   */\n  resolveComposition: function resolveComposition(editor) {\n    if (stillComposing) {\n      return;\n    }\n\n    resolved = true;\n    var composedChars = textInputData;\n    textInputData = '';\n\n    var editorState = EditorState.set(editor._latestEditorState, {\n      inCompositionMode: false\n    });\n\n    var currentStyle = editorState.getCurrentInlineStyle();\n    var entityKey = getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection());\n\n    var mustReset = !composedChars || isSelectionAtLeafStart(editorState) || currentStyle.size > 0 || entityKey !== null;\n\n    if (mustReset) {\n      editor.restoreEditorDOM();\n    }\n\n    editor.exitCurrentMode();\n\n    if (composedChars) {\n      if (DraftFeatureFlags.draft_handlebeforeinput_composed_text && editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(composedChars, editorState))) {\n        return;\n      }\n      // If characters have been composed, re-rendering with the update\n      // is sufficient to reset the editor.\n      var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), composedChars, currentStyle, entityKey);\n      editor.update(EditorState.push(editorState, contentState, 'insert-characters'));\n      return;\n    }\n\n    if (mustReset) {\n      editor.update(EditorState.set(editorState, {\n        nativelyRenderedContent: null,\n        forceSelection: true\n      }));\n    }\n  }\n};\n\nmodule.exports = DraftEditorCompositionHandler;"},"lineCount":null}},"hash":"9988228c1f8f4e059a6a1ebbed74d226","cacheData":{"env":{}}}